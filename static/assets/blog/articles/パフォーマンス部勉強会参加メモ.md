# 中島先生のお話

## 定型約款について

- 定型約款 - 契約当事者双方にとって合理的であれば、提供者Aは一方的に約款を更新することができ、事前に公開する義務はない。ただし相手から公開を求められた場合は公開義務が発生する

更新できる条件は、契約に反していないこと、かつ合理的であること、もしくは相手方の利益になること

定型約款は企業と企業の間でも成立する

### 通常の約款と定型約款であるかの区別

- 相手方の個性に応じて契約内容がアレンジすることが想定されている場合は定型約款ではない。
- 内容が合理的であれば一方的に変更できるかどうか（できなければ定型約款ではない）
    - クラウドサービスの利用契約などは定型約款となる

## 請負と委任

### 請負契約（結果が求められる）

システムを完成させる義務を追っている場合は請負

### 準委任契約（結果ではなく、事務処理自体が契約内容）

法律行為以外を委託する場合は全て準委任契約となる（契約内容は委任契約と変わりがない）

### 請負における割合報酬

最後まで契約をやり通すことができなくても、設計書などで一部でも顧客の利益になるのであれば、その分請求できる。しかし、割合の紛争がおきそう


### 委任における受任者の義務

委任だからといって、なにをやってもいいかというとそうではなく、通常の作業者が払うべき注意を払う必要がある。委任者は知ってから1年の間請求することができる。

- 再委任できる場合
    - 委任者の許可を得た場合
    - 止むを得ない場合


#### 成果報酬型委任

委任だが、結果に対しての報酬を払う契約タイプ契約時に何も書かないと、受任者側から請求される恐れがある。

#### 契約内容不適合責任

種類・品質・数量にたいして不適合を発見した場合通知をすることができる。追完請求をし、それが通らなかったら代金減額請求をすることができる


## クラウドサービス利用契約の法的性質

クラウドサービスの利用契約は**準委任契約**にあたる。クラウド内でなんでもやっていいわけではなくて、善管注意義務が発生する。


### AWSの例

ユーザーが支払った金額以上の請求はできない。その他の不具合は一切保証しない。

##### どこの国の法律がて適用されるのか？

専属管轄合意があれば、原則として当該国の法律が適用される

2020/4の改正民法下から、富士通の約款である、責任を全く負わないという契約は成立しない。（原則としては民法などに優先されるが例外あり）


### 野村とIBMの裁判

- 争点は委任契約か請負契約か
    - 委任契約じゃないと無理でしょという判断
- テメノス社の債務不履行はIBMの責任になるか（IBMは債務補助であるため、責任が発生する）
- マネジメント策は基本ベンダーに委ねられるが不敵かどうかはその判断は客観的なものとなる
- 責任制限条項は有効か（有効となった）
- 追加作業分の報酬は発生するか
    - 自分自身の債務の履行、または終了した契約の生産作業にすぎない。（作業をするなら契約をすべし）

## まとめ

パフォーマンスや品質についても期待以上に悪いと契約解除などの可能性がある

# 品質保証としてWebパフォーマンス

品質管理は期待のコントロールだ。

1. 期待通りのものが手に入れられない
2. 供給者と消費者の間に情報の非対称性が発生する。
3. 消費者は期待がさがる
4. より安いものを求めていく

物流は情報交換が前提にある。知ってもらい、納得した上で購買行為が発生する。パフォーマンスをよくすることは情報交換がスムーズになること意味している。Lighthouseのスコアを上げるためにパフォーマンスをあげるなんてもってのほかです。

## 開発プロセスと契約モデル

上流とテスト: 準委任
システム開発: 請負

準委任であるならば、善管注意義務が発生する

### V&V（Verification & Validation）モデル

設計通りに実装されているか & 実現した機能や性能が妥当どうか

### 品質という考え方

パフォーマンスは単純に何秒かかったかではない。どのくらいの期間、設定した指標を担保するか。
品質はばらつきを表す。ばらつきが小さいことが品質がいい。
今から将来、品質の悪いものを世に出さないようにコントロールしていこう。

#### 戦略的交際標準化加速事業

- 共通の指標を設定できる
- 学問的に正しい計測であること
- 効率がよくなる

### パフォーマンスを測る

#### 目的

遅いことがないことを確認する

#### 原則

コントロールできるところに絞る

- 観察者効果を意識すること（結果を鵜呑みにしない）
- ACM Sigmetrics
- American Software test qualification
- foundation of software and system performance engineering

30年くらいの歴史がある。Googleがやってることは単なる啓蒙であり、それだけやっていてもダメ。開発者は開発者のやり方でパフォーマンスを向上させていくべきである。

### ISO25000における非機能要求

- 時間挙動
- リソース使用率
    - CPU使用率が低くても、インタラプトやコンテキストスイッチの数が多いとパフォーマンスは低くなる
    - どれだけインターラプトがなくDOMツリーの構築がされるかが大事
- キャパシティ
    - どれだけスケールできるかが大事

### パフォーマンステスト

- パフォーマンステスト
- 負荷テスト
    - 予想される負荷をどれだけハンドリングできるか
- ストレステスト
    - どれだけ限界を超えられるか
- スケーラビリティテスト
- スパイクテスト
- 耐久性テスト
- 同時接続性
- キャパシティ


##### プロファイラー

プロファイラはあくまで製造工程で使われるものであり、計測をするものではない。パフォーマンスの測定は製造工程ではなく、公開後の検査を指す。
プロファイラーは特定環境であること。あくまで特定環境であることを意識する

- synthetic
    - 直接測定によって得られない所定の状況に適用できる生成データ（パフォーマンスを測定するためにアクセスする = 合成データ）
- last mile 計測

#### RUM（Real User Monitoring）がなぜだめなのか

- 変動要因が多すぎる
- Cookieベースの実装がおおい
    - RUMでPWAを観察する際は初回を必ずとる
- 観察者効果が入ってしまう

### ソフトウェアライフサイクルと品質ライフサイクルの関係

上流工程で何を検査するか何をメトリクスにするか、どのように検査するかを定義する

### 正確度と精度

- 正確度も高く精度も高いのがベスト
- 次点で精度が高くて正確度が低いものを使う
    - 精度から確率的に正確度が出せる
    - 割り算で
- 偶然誤差と系統誤差
- 累積分布関数: 計測した値を早い順に並べて、跳ね上がったところは保証範囲外

#### フィッシャ3ー原則

- 局所管理下
    - 影響を調べる要因以外の環境を統一する（ブラウザとか）
- 反復
- 無作為化


売買の場合は買った側が品質検査をしないといけない

- 主要導線を最初から最後まで計測する（単ページではない）
    - トランザクション計測
    - ヒューリスティックキャッシュの影響を考慮することができる
- 計測は最低でも一ヶ月行う
    - 日次、週次、月次、年次
    - 最低でも週次検査はやりたい（1ヶ月継続すれば4つ標本が取れる）
